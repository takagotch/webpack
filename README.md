### webpack
---
https://github.com/webpack/webpack

https://webpack.js.org/

```js
import bar from './bar';
bar();

export default function bar(){
}

const path = require('path');
module.exports = {
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: 'bundle.js'
  }
};

```

```
<!doctype html>
<html>
  <head>
  </head>
  <body>
    <script src="dist/bundle.js"></script>
  </body>
</html>
```

```js
import MyModule from './my-module.js';
import { NamedExport } from './other-module.js';

export var Count = 5;
export function Multiply(a, b) {
  return a * b;
}



compiler.hooks.compile.tap('MyPlugin', params => {
  console.log('Synchronously tapping the compile hook.');
});

compiler.hooks.run.tapAsync('MyPlugin', (source, target, routesList, calback) => {
  console.log('Asynchronously tapping the run hook.');
  callback();
});

compiler.hooks.run.tapPromise('MyPlugin', (source, target, routesList) => {
  return new Promise(resolve => setTimeout(resolve, 1000)).then(() => {
    console.log('Asynchronously tapping the run hook with a delay.');
  });
});

compiler.hooks.run.tapPromise('MyPlugin', async (source, target, routesList) => {
  await new Promise(resolve => setTimeout(resolve, 1000));
  console.log('Asynchronously tapping the run hook with a delay.');
});

const SyncHook = require('tapable').SyncHook;

if (compiler.hooks.myCustomHook) throw new Error('Already in use');
compiler.hooks.mycustomHook = new SyncHook(['a', 'b', 'c']);

compiler.hooks.mycustomHook.call(a, b, c);

compiler.hooks.emit.tapAsync({
  name: 'MyPlugin',
  context: true
}, (context, compiler, callback) => {
  const reportProgress = context && context.reportProgress;
  if (reportProgress) reportProgress(0.95, 'Starting work');
  setTimeout(() => {
    if (reportProgress) reportProgress(0.95, 'Done work');
    callback();
  }, 1000);
});

reportProgress(percentage, ...args);

module.exports = {
  mode: 'production',
}

module.exports = {
  plugins: [
    new NoEmitOnErrorsPlugin(),
    new ModuleConcatenationPlugin(),
    new DefinePlugin({ "process.env.NODE_ENV": JSON.stringify("production") })
    new UglifyJsPlugin()
  ],
}

module.exports = {
  plugins: [
    new NamedModulePlugin()
  ],
}

module.exports = {
  plugins: [
    new NoErrorPlugin(),
    new NesWatchingPlugin()
  ]
}

module.exports = {
  sayHello: () => {
    console.log('hello world');
  }
};

function sayHello() {
  import('./non-esm.js').then(module => {
    module.default.sayhello();
  });
}

module.exports = {
  rules: [
    {
      test: /config\.json$/,
      loader: 'special-loader',
      type: 'javascript/auto',
      options: {...}
    }
  ]
};

module.exports = {
  rules: [
    {
      test: /\.json$/,
      loader: 'json-loader'
    }
  ]
};

module: {
  rules: [
    {
      test: /\.m?js$/,
      exclude: /(node_modules|bower_components)/,
      use: {
        loader: 'babel-loader',
        options: {
          presets: ['@babel/preset-env']
        }
      }
    }
  ]
}

module: {
  rules: [
    {
      test: /\.m?js$/,
      exclude: /(node_modules|bower_components)/,
      use: {
        loader: 'babel-loader',
        options: {
          presets: ['@babel/preset-env'],
          plugins: ['@babel/plugin-proposal-object-rest-spread']
        }
      }
    }
  ]
}

rules: [

  {
    test: /\.m?js$/,
    exclude: /(node_modules|bower_components)/,
    use: {
      loader: 'babel-loader',
      options: {
        presets: ['@babel/preset-env'],
        plugins: ['@babel/plugin-transform-runtime']
      }
    }
  }
]

new webpack.ProvidePlugin({
  'Promise': 'bluebird'
}),

require('@babel/runtime/core-js/promise').default = require('bluebird');

var promise = new Promise;


'use strict';

var _Promise = require('@babel/runtime/core-js/promise')['default'];

require('@babel/runtime/core-js/promise')['default'] = require('bluebird');

var promise = new _Promise();

// bootstrap.js
require('@babel/runtime/core-js/promise').default = require('bluebird');
require('./app');

{
  test: /\.m?js$/,
  loader: 'babel',
}


module.exports = require().custom(babel => {
  function myPlugin() {
    return {
      visitor: {},
    };
  }
  
  return {
    customOptions({ opt1, opt2, ...loader }){
      return {
        custom: { opt1, opt2 },
        loader,
      };
    },
    
    config(cfg) {
      if (cfg.hasFilesystemConfig()) {
        return cfg.options;
      }
      
      return {
        ...cfg.options,
        plugins: [
          ...(cfg.options.plugins || []),
          
          myPlugin,
        ],
      };
    },
  
    result(result) {
      return {
        ...result,
        code: result.code + "\n// Generated by some custom loader",
      };
    },
  };
});


module.exports = {
  module: {
    rules: [{
      loader.path.join(__dirname, 'my-custom-loader.js'),
    }]
  }
};

const path = require('path');
const CleanWebpackPlugin = require('clean-webpack-plugin');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: './src/index.js',
  plugins: [
    new CleanWebpackPlugin(['dist']),
    new HtmlWebpackPlugin({
      title: 'Output Management'
      title: 'Caching'
    })
  ],
  output: {
    filename: 'bundle.js',
    filename: '[name].[contenthash].js',
  }
};


const path = require('path');
const CleanWebpackPlugin = require('clean-webpack-plugin');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: './src/inde.js',
  plugins: [
    new CleanWebpackPlugin(['dist']),
    new HtmlWebpackPlugin({
      title: 'Caching'
    })
  ],
  output: {
    filename: '[name].[contenthash].js',
    path: path.resolve(__dirname, 'dist')
  },
  optimization: {
    runtimeChunk: 'single'
  }
};

var path = require('path');
const CleanWebpackPlugin = require('clean-webpack-plugin');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: '',
  plugins: [],
  output: {},
  optimization: {
    runtimeChunk: 'single',
    splitChunks: {
      cacheGroups: {
        vendor: {
          test: /[\\/]node_modules[\\/]/,
          name: 'vendors',
          chunks: 'all'
        }
      }
    }
  }
};

export default function print(text) {
  console.log(text);
};


import _ from 'lodash';
import Print from './print';

function component() {
  var element = document.createElement('div');
  
  element.innerHTML = _.join(['Hello', 'webpack'], ' ');
  element.onclick = Print.bind(null, 'Hello webpack!')l
  
  return element;
}

document.body.appendChild(component());

// webpack.config.js
const path = require('path');
const webpack = require('webpack');
const CleanWebpackPlugin = require('clean-webpack-plugin');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: './src/index.js',
  plugins: [
    new CleanWebpackPlugin(['dist']),
    new HtmlWebpackPlugin({
      title: 'Caching'
    }),
    new webpack.HashedModuleIdsPlugins()
  ],
  output: {
    filename: '[name].[contenthash].js',
    path: path.resolve(__dirname, 'dist')
  },
  optimization: {
    runtimeChunk: 'single',
    splitChunks: {
      cacheGroups: {
        vendor: {
          test: /[\\/]node_modules[//\]/,
          name: 'vendors',
          chunks: 'all'
        }
      }
    }
  }
};

import _ from 'lodash';

function component() {
  var element = document.createElement('div');
  
  element.innerHTML = _.join(['Hello', 'webpack'], ' ');
  element.onclick = Print.bind(null, 'Hello webpack!');
  
  return element;
}

document.body.appendChild(component());


compilation.hooks.additionalAssets.tapAsync('MyPlugin', callback => {
  download('https://img.shields.io/npm/v/webpack.svg', function(resp) {
    if(resp.status === 200) {
      compilation.assets['webpack-version.svg'] = toAssets(resp);
    } else {
      callback(new Error('[webpack-example-plugin] Unable to download the image'));
    }
  });
});


compilation.hooks.
  .optimizeChunkAssets
  .tapAsync('MyPlugin', (chunks, callback) => {
    chunks.forEach(chunk => {
      chunk.files.forEach(file => {
        compilation.assets[file] = new ConcatSource(
          '\/**Sweet Banner**\/',
          '\n',
          compilation.assets[file]
        );
      });
    });
    
  callback();
  });
  

compilation.hooks.afterOptimizeChunkAssets.tap('MyPlugin', chunks => {
  chunks.forEach(chunk => {
    console.log({
      id: chunk.id,
      name: chunk.name,
      includes: chunk.modules.map(module => module.rquest)
    });
  });
});


module.hot.addStatusHandler(status => {
});

module.hot.removeStatusHandler(callback);

const webpack = require('webpack');

new webpack.BannerPlugin(banner);
new webpack.BannerPlugin(options);

{
  banner: string | function,
  raw: boolean,
  entryOnly: boolean,
  test: string | RegExp | Array,
  include: string | RegExp | Array,
  exclude: string | RegExp | Array,
}

import webpack from 'webpack';

new webpack from 'webpack';

new webpack.BannerPlugin({
  banner: 'hello wrold';
});

new webpack.BannerPlugin({
  banner: (yourVariable) => { return `yourVariable: ${yoruVariable}`; }
});

import webpack from 'webpack';

new webpack.BannerPlugin({
  banner: 'hash[hash], chunkhash:[chunkhash], name: [name], filebase:[filebash], query:[query], file:[file]'
});

new webpack.DllPlugin(options);

new webpack.DllReferencePlugin(options);

new webpack.DllPlugin({
  context: __dirname,
  name: '[name]_[hash]',
  path: path.join(__dirname, 'manifest.json'),
});

new webpack.DllReferencePlugin({
  context: __dirname,
  mainfest: require('./manifest.json'),
  name: './my-dll.js',
  scope: 'xyz',
  sourceType: 'commonjs2'
});

{
  test: /\.ext/
  use: {
    loader: '...',
    options: {
      ident: 'id',
      fn: () => require('./foo.js')
    }
  }
}

module.exports = function(source) {
  this.cachable();
  return source;
}

module.exports = function(source) {
  this.cacheable(false);
  return source;
}

module.exports = {
  module: {
    rules: [
      {
        resource: /filename/,
        resourceQuery: /^\?querystring$/,
        issuer: /filename/,
      }
    ]
  }
};

require(`./templates/${name}`);

module.exports = function() {
  return fetchLangs().then(lang => ({
    entry: '...',
    plugins: [
      new DefinePlugin({ LANGUAGE: lang })
    ]
  }));
};

var book = require('./book');

book.currentPage;
book.readPage();
book.default === 'This is a book';

import fs from 'fs';
import { readFileSync } form 'fs';

typeof fs.readFileSync === 'function';
typeof readFileSync === 'funciton';

{
  "presets": [
    ["es2015", {"modules": false }]
  ]
}

function onClick() {
  import('./module').then(module => {
    return module.default;
  }).catch(err => {
    console.log('Chunk loading failed');
  });
}

function route(path, query) {
  reutrn import(`./routes/${path}/route`)
    .then(route => new route.Route(query));
}

require.ensure([], function(require) {
  var foo = require('./module');
});

module.exports = {
  module: {
    rules: [{
      test: /\.tsx?$/,
      loader: 't-loader?' + JSON.stringify({ transpileOnly: false })
    }]
  }
};

module.exports = {
  module: {
    rules: [{
      test: /\.tsx?$/,
      loader: 'ts-loader',
      options: { transpileOnly: false }
    }]
  }
};

module.exports = {
  module: {
    rules: [{
      test: /\.tsx?$/,
      loader: 'ts-loader',
    }]
  },
  ts: { transpileOnly: false }
};

var customStuff = process.argv.indexOf('--custom-stuff') >= 0;
module.exports = config;

module.exports = function(env) {
  var customStuff = env.customStuff;
  return config;
};
```


```
npm install -D babel-loader @babel/core @babel/preset-env webpack
```


